{"remainingRequest":"/home/clement/APIetienne/bccoin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/clement/APIetienne/bccoin/src/views/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/clement/APIetienne/bccoin/src/views/Dashboard.vue","mtime":1607808888116},{"path":"/home/clement/APIetienne/bccoin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clement/APIetienne/bccoin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/clement/APIetienne/bccoin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clement/APIetienne/bccoin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSZXRhaWxlclJlZ2lzdHJhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUmV0YWlsZXJSZWdpc3RyYXRpb24udnVlJzsKaW1wb3J0IFVwZGF0ZUFjY291bnQgZnJvbSAnQC9jb21wb25lbnRzL1VwZGF0ZUFjY291bnQudnVlJzsKaW1wb3J0IFBhaWVtZW50IGZyb20gJ0AvY29tcG9uZW50cy9zaG9wL1BhaWVtZW50LnZ1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGFzaGJvYXJkJywKCiAgY29tcG9uZW50czogeyBSZXRhaWxlclJlZ2lzdHJhdGlvbiwgVXBkYXRlQWNjb3VudCwgUGFpZW1lbnQgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRVc2VyOiBudWxsLAogICAgICBkaXNwbGF5VXBkYXRlQWNjb3VudDogdHJ1ZSwKICAgICAgZGlzcGxheVJldGFpbGVyUmVnaXN0cmF0aW9uOiBmYWxzZSwKICAgICAgZGlzcGxheVBheXJvbGw6IGZhbHNlLAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlQWNjb3VudE1lbnUoKSB7CiAgICAgIHRoaXMuZGlzcGxheVVwZGF0ZUFjY291bnQgPSB0cnVlOwogICAgICB0aGlzLmRpc3BsYXlSZXRhaWxlclJlZ2lzdHJhdGlvbiA9IGZhbHNlOwogICAgICB0aGlzLmRpc3BsYXlQYXlyb2xsID0gZmFsc2U7CiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIik7CiAgICAgIC8qCiAgICAgIHZhciB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnVzZXItZGFzaGJvYXJkLW1lbnUgbGkiKTsKICAgICAgdC5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIik7CiAgICAgIH0pOyovCgogICAgfSwKICAgIHJldGFpbGVyUmVnaXN0ZXJNZW51KCkgewogICAgICB0aGlzLmRpc3BsYXlVcGRhdGVBY2NvdW50ID0gZmFsc2U7CiAgICAgIHRoaXMuZGlzcGxheVJldGFpbGVyUmVnaXN0cmF0aW9uID0gdHJ1ZTsKICAgICAgdGhpcy5kaXNwbGF5UGF5cm9sbCA9IGZhbHNlOwoKICAgIH0sCiAgICBwYWltZW50TWVudSgpIHsKICAgICAgdGhpcy5kaXNwbGF5VXBkYXRlQWNjb3VudCA9IGZhbHNlOwogICAgICB0aGlzLmRpc3BsYXlSZXRhaWxlclJlZ2lzdHJhdGlvbiA9IGZhbHNlOwogICAgICB0aGlzLmRpc3BsYXlQYXlyb2xsID0gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBnZXRVc2VyRGV0YWlscygpIHsKICAgICAgdmFyIHJlcyA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9oYXV0ZS1sb2lyZS5vcmcvYXBpL3VzZXIvJyt0aGlzLnVzZXIuaWQpOwogICAgICB0aGlzLmN1cnJlbnRVc2VyID0gcmVzLmRhdGE7CiAgICB9LAogICAgYXN5bmMgZGVsZXRlQWNjb3VudCgpIHsKICAgICAgdmFyIHJlcG9uc2UgPSBjb25maXJtKCJFdGVzLXZvdXMgY2VydGFpbiBkZSB2b3Vsb2lyIHN1cHByaW1lciB2b3RyZSBjb21wdGUgPyIpOwogICAgICBpZiAocmVwb25zZSkgewogICAgICAgIHZhciByZXMgPSBhd2FpdCBheGlvcy5kZWxldGUoJ2h0dHBzOi8vaGF1dGUtbG9pcmUub3JnL2FwaS91c2VyLycrdGhpcy51c2VyLmlkKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9CiAgICAgIG5leHQoKTsKICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICB1c2VyOiAnYXV0aC91c2VyJwogICAgfSkKICB9LAogIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5nZXRVc2VyRGV0YWlscygpOwogIH0KfQoK"},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-lg-4 text-center \" id=\"user-dashboard-menu\">\n            <br><br><br>\n            <h2>menu utilisateur</h2>\n            <div class=\"user-dashboard-profile\">\n              <!-- User Image -->\n              <div class=\"profile-thumb\">\n                <img src=\"../../public/pp.jpg\" alt=\"\" class=\"rounded-circle\">\n              </div>\n              <!-- User Name -->\n              <br>\n              <h4 class=\"text-center\">{{ this.currentUser.name }}</h4>\n              <p>Membre depuis le : </p>\n              <p>{{ this.currentUser.created_at.slice(0,10) }}</p>\n              <h5>Votre solde Bordier Coin:</h5>\n              <p>{{ this.currentUser.payroll }} Bordier Coins</p>\n            </div>\n\n            <div class=\"user-dashboard-menu text-left\">\n              <ul>\n                 <li class=\"\" v-on:click=\"updateAccountMenu\">\n                  <a href=\"#\"><i class=\"\" ></i>Modifier mon compte utilisateur</a>\n                </li>\n                <li v-on:click=\"retailerRegisterMenu\" >\n                  <a href=\"#\"><i class=\"\" ></i>Editer un compte commer√ßant</a>\n                </li>\n                <li v-on:click=\"paimentMenu\">\n                  <a href=\"#\"><i class=\"\"></i>Solde Ethicoins</a>\n                </li>\n                <li @click=\"deleteAccount\">\n                  <a href=\"#\"><i class=\"\" ></i>Supprimer mon compte</a>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div class=\"col-lg-8 text-center\" id=\"dashboard\">\n            <br><br>\n            <RetailerRegistration v-if=\"displayRetailerRegistration\"/>\n            <UpdateAccount v-if=\"displayUpdateAccount\"/>\n            <Paiement v-if=\"displayPayroll\"/>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport RetailerRegistration from '@/components/RetailerRegistration.vue';\nimport UpdateAccount from '@/components/UpdateAccount.vue';\nimport Paiement from '@/components/shop/Paiement.vue';\nimport axios from 'axios';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Dashboard',\n\n  components: { RetailerRegistration, UpdateAccount, Paiement },\n\n  data() {\n    return {\n      currentUser: null,\n      displayUpdateAccount: true,\n      displayRetailerRegistration: false,\n      displayPayroll: false,\n    }\n  },\n  methods: {\n    updateAccountMenu() {\n      this.displayUpdateAccount = true;\n      this.displayRetailerRegistration = false;\n      this.displayPayroll = false;\n      this.classList.add(\"active\");\n      /*\n      var t = document.querySelectorAll(\".user-dashboard-menu li\");\n      t.forEach(element => {\n        element.classList.add(\"active\");\n      });*/\n\n    },\n    retailerRegisterMenu() {\n      this.displayUpdateAccount = false;\n      this.displayRetailerRegistration = true;\n      this.displayPayroll = false;\n\n    },\n    paimentMenu() {\n      this.displayUpdateAccount = false;\n      this.displayRetailerRegistration = false;\n      this.displayPayroll = true;\n    },\n    async getUserDetails() {\n      var res = await axios.get('https://haute-loire.org/api/user/'+this.user.id);\n      this.currentUser = res.data;\n    },\n    async deleteAccount() {\n      var reponse = confirm(\"Etes-vous certain de vouloir supprimer votre compte ?\");\n      if (reponse) {\n        var res = await axios.delete('https://haute-loire.org/api/user/'+this.user.id);\n        console.log(res);\n        location.reload();\n      }\n      next();\n    }\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    })\n  },\n  beforeMount() {\n    this.getUserDetails();\n  }\n}\n\n</script>\n\n<style scoped>\n\n.user-dashboard-menu li {\n  margin-bottom: 5px;\n  list-style: none;\n}\n\n\n.user-dashboard-menu li a {\n  padding: 10px;\n  font-size: 15px;\n  display: block;\n  font-weight: 600;\n  color: #555;\n  text-decoration: none;\n}\n\n.user-dashboard-menu li a:hover {\n  color: #5672f9;\n}\n\n.user-dashboard-menu li a:hover span {\n  background: #5672f9;\n  color: #fff;\n}\n\n.user-dashboard-menu li a i {\n  margin-right: 5px;\n}\n\n\n</style>"]}]}