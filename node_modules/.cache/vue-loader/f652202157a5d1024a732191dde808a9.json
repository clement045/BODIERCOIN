{"remainingRequest":"/home/clement/APIetienne/bccoin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/clement/APIetienne/bccoin/src/components/shop/Exchange.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/clement/APIetienne/bccoin/src/components/shop/Exchange.vue","mtime":1607801764748},{"path":"/home/clement/APIetienne/bccoin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clement/APIetienne/bccoin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/clement/APIetienne/bccoin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clement/APIetienne/bccoin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRXhjaGFuZ2UnLAogIGNvbXBvbmVudHM6IHsKICB9LAogIHByb3BzOiBbCiAgICAidXNlcklkIgogIF0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgICAgcmVjZWl2ZXJJZDogbnVsbCwKICAgICAgICBudW1iZXJUb2tlbjogbnVsbAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgICAgICAgYXV0aGVudGljYXRlZDogJ2F1dGgvYXV0aGVudGljYXRlZCcsCiAgICAgICAgICAgIHVzZXI6ICdhdXRoL3VzZXInCiAgICAgICAgfSkKICB9LAogIG1ldGhvZHM6ewogICAgICAgIGV4Y2hhbmdlQ29pbih1c2VySWQsIHJlY2VpdmVySWQsIG51bWJlclRva2VuKXsKICAgICAgICAgICAgY29uc29sZS5sb2codXNlcklkKTsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVjZWl2ZXJJZCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKG51bWJlclRva2VuKTsKICAgICAgICAgICAgdmFyIGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnN0cmluZ2lmeSh7ImlkX2Rvbm9yIjp1c2VySWQsImlkX3JlY2VpdmVyIjpyZWNlaXZlcklkLCJhbW91bnQiOm51bWJlclRva2VufSk7CgogICAgICAgICAgICB2YXIgY29uZmlnID0gewogICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9oYXV0ZS1sb2lyZS5vcmcvYXBpL3RyYW5zYWN0aW9uJywKICAgICAgICAgICAgaGVhZGVyczogeyAKICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YSA6IGRhdGEKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGF4aW9zKGNvbmZpZykKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICB9Cn0K"},{"version":3,"sources":["Exchange.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Exchange.vue","sourceRoot":"src/components/shop","sourcesContent":["<template>\n  <div id=\"Exchange\">\n    <div id=\"corpse\">\n\n\n        <template v-if=\"authenticated\">  \n            <h2>Ou à en échanger ?</h2>\n            <p>\n                    Give \n                    <input\n                    id=\"numberToken\"\n                    v-model=\"numberToken\"\n                    type=\"int\"\n                    name=\"cardmonth\"\n                    > tokens to\n                    <input\n                    id=\"userId\"\n                    v-model=\"receiverId\"\n                    type=\"int\"\n                    name=\"userId\"\n                    >\n            </p>\n            <button id=\"exchangebutton\" v-on:click=\"exchangeCoin(userId, receiverId, numberToken)\">Pay</button>\n                                                    \n        </template>\n      \n        \n        \n\n    </div>\n    <router-view/>\n  </div>\n</template>\n\n\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Exchange',\n  components: {\n  },\n  props: [\n    \"userId\"\n  ],\n  data() {\n    return {\n        receiverId: null,\n        numberToken: null\n    }\n  },\n  computed: {\n        ...mapGetters({\n            authenticated: 'auth/authenticated',\n            user: 'auth/user'\n        })\n  },\n  methods:{\n        exchangeCoin(userId, receiverId, numberToken){\n            console.log(userId);\n            console.log(receiverId);\n            console.log(numberToken);\n            var axios = require('axios');\n            var data = JSON.stringify({\"id_donor\":userId,\"id_receiver\":receiverId,\"amount\":numberToken});\n\n            var config = {\n            method: 'post',\n            url: 'https://haute-loire.org/api/transaction',\n            headers: { \n                'Content-Type': 'application/json'\n            },\n            data : data\n            };\n\n            axios(config)\n            .then(function (response) {\n            console.log(JSON.stringify(response.data));\n            })\n            .catch(function (error) {\n            console.log(error);\n            });\n        }\n  }\n}\n</script>\n\n\n\n<style>\n#Exchange {\n    background-color: #ffa008;\n    padding: 4em;\n    margin-top: 3em;\n}\n#exchangebutton {\n    border: none;\n    background-color: white;\n    padding: 15px 20px 15px 25px;\n    border-radius: 3em;\n    font-weight: bold;\n}\n</style>\n"]}]}