{"remainingRequest":"/home/clement/APIetienne/BODIERCOIN/node_modules/babel-loader/lib/index.js!/home/clement/APIetienne/BODIERCOIN/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/clement/APIetienne/BODIERCOIN/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/clement/APIetienne/BODIERCOIN/src/components/shop/StripePaiement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/clement/APIetienne/BODIERCOIN/src/components/shop/StripePaiement.vue","mtime":1607801764748},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTdHJpcGVQYWllbWVudCcsCiAgcHJvcHM6IFsibnVtYmVyQ29pbiIsICJ1c2VySWQiLCAidXNlck5hbWUiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbnVtYmVyOiB0aGlzLm51bWJlckNvaW4sCiAgICAgIHN0cmlwZUFQSVRva2VuOiAncGtfdGVzdF81MUhzVVVKRWoxNE9oaXBLVWF2V2NXNDhaZEVWMXlXbUZIQ1cweWNEaWE5UjhPekRmVzN2NDhnaHpEV2o1NVpvanRSZHhEdk1JN25qMWZhVjlOa3FOZVNwVzAwMHZlRDd4Q0YnLAogICAgICBzdHJpcGU6ICcnLAogICAgICBlbGVtZW50czogJycsCiAgICAgIGNhcmQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy9pbmNsdWRlIFN0cmlwZQogICAgaW5jbHVkZVN0cmlwZTogZnVuY3Rpb24gaW5jbHVkZVN0cmlwZShVUkwsIGNhbGxiYWNrKSB7CiAgICAgIGNvbnNvbGUubG9nKCd0b3RvJyk7CiAgICAgIHZhciBkb2N1bWVudFRhZyA9IGRvY3VtZW50LAogICAgICAgICAgdGFnID0gJ3NjcmlwdCcsCiAgICAgICAgICBvYmplY3QgPSBkb2N1bWVudFRhZy5jcmVhdGVFbGVtZW50KHRhZyksCiAgICAgICAgICBzY3JpcHRUYWcgPSBkb2N1bWVudFRhZy5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWcpWzBdOwogICAgICBvYmplY3Quc3JjID0gJy8vJyArIFVSTDsKCiAgICAgIGlmIChjYWxsYmFjaykgewogICAgICAgIG9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGUpOwogICAgICAgIH0sIGZhbHNlKTsKICAgICAgfQoKICAgICAgc2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG9iamVjdCwgc2NyaXB0VGFnKTsKICAgIH0sCgogICAgLyoKICAgIENvbmZpZ3VyZXMgU3RyaXBlIGJ5IHNldHRpbmcgdXAgdGhlIGVsZW1lbnRzIGFuZCAKICAgIGNyZWF0aW5nIHRoZSBjYXJkIGVsZW1lbnQuCiAgICAqLwogICAgcG9zdFRvTGFyYXZlbDogZnVuY3Rpb24gcG9zdFRvTGFyYXZlbCh0b2tlbiwgbnVtYmVyKSB7CiAgICAgIC8qIHZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7CiAgICAgICB2YXIgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgInN0cmlwZVRva2VuIjogdG9rZW4sCiAgICAgICAgICJ0b2tlbk51bWJlciI6IG51bWJlcgogICAgICAgfSk7Ki8KICAgICAgLy8vLy8vCiAgICAgIGNvbnNvbGUubG9nKHRva2VuKTsKICAgICAgY29uc29sZS5sb2cobnVtYmVyKTsKCiAgICAgIHZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7CgogICAgICB2YXIgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAic3RyaXBlVG9rZW4iOiB0b2tlbiwKICAgICAgICAidG9rZW5OdW1iZXIiOiBudW1iZXIKICAgICAgfSk7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiAnaHR0cHM6Ly9oYXV0ZS1sb2lyZS5vcmcvYXBpL3N0cmlwZScsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0sCiAgICAgICAgZGF0YTogZGF0YQogICAgICB9OyAvLy8vLy8KCiAgICAgIC8qdmFyIGNvbmZpZyA9IHsKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICB1cmw6ICdodHRwczovL2hhdXRlLWxvaXJlLm9yZy9hcGkvc3RyaXBlJywKICAgICAgICBkYXRhIDogZGF0YQogICAgICB9OyovCgogICAgICBheGlvcyhjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGJhbmtUb2tlbjogZnVuY3Rpb24gYmFua1Rva2VuKGlkRG9ub3IsIGFtb3VudCkgewogICAgICB2YXIgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpOwoKICAgICAgdmFyIGRhdGEgPSBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgImlkX2Rvbm9yIjogMSwKICAgICAgICAiaWRfcmVjZWl2ZXIiOiBpZERvbm9yLAogICAgICAgICJhbW91bnQiOiBhbW91bnQKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGlkRG9ub3IsIGFtb3VudCk7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiAnaHR0cHM6Ly9oYXV0ZS1sb2lyZS5vcmcvYXBpL3RyYW5zYWN0aW9uJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfSwKICAgICAgICBkYXRhOiBkYXRhCiAgICAgIH07CiAgICAgIGF4aW9zKGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgY29uZmlndXJlU3RyaXBlOiBmdW5jdGlvbiBjb25maWd1cmVTdHJpcGUoZm9uY3Rpb24sIG51bWJlcikgewogICAgICBjb25zb2xlLmxvZygndG90bycpOwogICAgICB2YXIgc3RyaXBlID0gd2luZG93LlN0cmlwZSh0aGlzLnN0cmlwZUFQSVRva2VuKTsKICAgICAgdmFyIGVsZW1lbnRzID0gc3RyaXBlLmVsZW1lbnRzKCk7CiAgICAgIC8qCiAgICAgIGNvbnN0IGNhcmQgPSBzdHJpcGUuY2hhcmdlcy5jcmVhdGUoewogICAgICAgIGFtb3VudDogMjAwMCwKICAgICAgICBjdXJyZW5jeTogJ2V1cicsCiAgICAgICAgc291cmNlOiAndG9rX3Zpc2EnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnTXkgRmlyc3QgVGVzdCBDaGFyZ2UgKGNyZWF0ZWQgZm9yIEFQSSBkb2NzKScsCiAgICAgIH0pOyovCgogICAgICB2YXIgY2FyZCA9IGVsZW1lbnRzLmNyZWF0ZSgnY2FyZCcpOwogICAgICBjYXJkLm1vdW50KCcjY2FyZC1lbGVtZW50Jyk7IC8vIEhhbmRsZSBmb3JtIHN1Ym1pc3Npb24uCgogICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXltZW50LWZvcm0nKTsKICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHN0cmlwZS5jcmVhdGVUb2tlbihjYXJkKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHsKICAgICAgICAgICAgLy8gSW5mb3JtIHRoZSB1c2VyIGlmIHRoZXJlIHdhcyBhbiBlcnJvci4KICAgICAgICAgICAgdmFyIGVycm9yRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkLWVycm9ycycpOwogICAgICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSByZXN1bHQuZXJyb3IubWVzc2FnZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFNlbmQgdGhlIHRva2VuIHRvIHlvdXIgc2VydmVyLgogICAgICAgICAgICAvL3N0cmlwZVRva2VuSGFuZGxlcihyZXN1bHQudG9rZW4pOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQudG9rZW4uaWQpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhudW1iZXIpOwogICAgICAgICAgICBmb25jdGlvbihyZXN1bHQudG9rZW4uaWQsIG51bWJlcik7IC8vY29uc29sZS5sb2cobnVtYmVyKSAgICAgICAgIAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgLyoKICAgICAgZnVuY3Rpb24gc3RyaXBlVG9rZW5IYW5kbGVyKHRva2VuKSB7CiAgICAgICAgLy8gSW5zZXJ0IHRoZSB0b2tlbiBJRCBpbnRvIHRoZSBmb3JtIHNvIGl0IGdldHMgc3VibWl0dGVkIHRvIHRoZSBzZXJ2ZXIKICAgICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXltZW50LWZvcm0nKTsKICAgICAgICB2YXIgaGlkZGVuSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICAgIGhpZGRlbklucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdoaWRkZW4nKTsKICAgICAgICBoaWRkZW5JbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnc3RyaXBlVG9rZW4nKTsKICAgICAgICBoaWRkZW5JbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdG9rZW4uaWQpOwogICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaGlkZGVuSW5wdXQpOwogICAgICAgICAKICAgICAgICAvLyBTdWJtaXQgdGhlIGZvcm0KICAgICAgICBmb3JtLnN1Ym1pdCgpOwogICAgICB9Ki8KICAgICAgLy8gSGFuZGxlIHJlYWwtdGltZSB2YWxpZGF0aW9uIGVycm9ycyBmcm9tIHRoZSBjYXJkIEVsZW1lbnQuCgogICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHZhciBkaXNwbGF5RXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZC1lcnJvcnMnKTsKCiAgICAgICAgaWYgKGV2ZW50LmVycm9yKSB7CiAgICAgICAgICBkaXNwbGF5RXJyb3IudGV4dENvbnRlbnQgPSBldmVudC5lcnJvci5tZXNzYWdlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkaXNwbGF5RXJyb3IudGV4dENvbnRlbnQgPSAnJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCd0b3RvJyk7CiAgICAgIHRoaXMuaW5jbHVkZVN0cmlwZSgnanMuc3RyaXBlLmNvbS92My8nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jb25maWd1cmVTdHJpcGUoKTsKICAgICAgfS5iaW5kKHRoaXMpKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgZm9uY3Rpb24gPSB0aGlzLnBvc3RUb0xhcmF2ZWw7CiAgICB0aGlzLmluY2x1ZGVTdHJpcGUoJ2pzLnN0cmlwZS5jb20vdjMvJywgZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmNvbmZpZ3VyZVN0cmlwZShmb25jdGlvbiwgdGhpcy5udW1iZXIpOwogICAgfS5iaW5kKHRoaXMpKTsKICB9Cn07"},{"version":3,"sources":["StripePaiement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,KAAA,EAAA,CACA,YADA,EAEA,QAFA,EAGA,UAHA,CAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KAAA,UADA;AAEA,MAAA,cAAA,EAAA,6GAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA;AALA,KAAA;AAOA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,aAFA,yBAEA,GAFA,EAEA,QAFA,EAEA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,UAAA,WAAA,GAAA,QAAA;AAAA,UAAA,GAAA,GAAA,QAAA;AAAA,UACA,MAAA,GAAA,WAAA,CAAA,aAAA,CAAA,GAAA,CADA;AAAA,UAEA,SAAA,GAAA,WAAA,CAAA,oBAAA,CAAA,GAAA,EAAA,CAAA,CAFA;AAGA,MAAA,MAAA,CAAA,GAAA,GAAA,OAAA,GAAA;;AACA,UAAA,QAAA,EAAA;AAAA,QAAA,MAAA,CAAA,gBAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AAAA,UAAA,QAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AAAA,SAAA,EAAA,KAAA;AAAA;;AACA,MAAA,SAAA,CAAA,UAAA,CAAA,YAAA,CAAA,MAAA,EAAA,SAAA;AACA,KAVA;;AAWA;AACA;AACA;AACA;AACA,IAAA,aAfA,yBAeA,KAfA,EAeA,MAfA,EAeA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;;AACA,UAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA;AAAA,uBAAA,KAAA;AAAA,uBAAA;AAAA,OAAA,CAAA;AAEA,UAAA,MAAA,GAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,oCAFA;AAGA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA,SAHA;AAMA,QAAA,IAAA,EAAA;AANA,OAAA,CAbA,CAuBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAA,KAAA,CAAA,MAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AACA,OAHA,EAIA,KAJA,CAIA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OANA;AAQA,KAtDA;AAuDA,IAAA,SAvDA,qBAuDA,OAvDA,EAuDA,MAvDA,EAuDA;AACA,UAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA;AAAA,oBAAA,CAAA;AAAA,uBAAA,OAAA;AAAA,kBAAA;AAAA,OAAA,CAAA;AAEA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,MAAA;AAEA,UAAA,MAAA,GAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,yCAFA;AAGA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA,SAHA;AAMA,QAAA,IAAA,EAAA;AANA,OAAA;AASA,MAAA,KAAA,CAAA,MAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AACA,OAHA,EAIA,KAJA,CAIA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OANA;AAOA,KA7EA;AA8EA,IAAA,eA9EA,2BA8EA,QA9EA,EA8EA,MA9EA,EA8EA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,UAAA,MAAA,GAAA,MAAA,CAAA,MAAA,CAAA,KAAA,cAAA,CAAA;AAEA,UAAA,QAAA,GAAA,MAAA,CAAA,QAAA,EAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAA,IAAA,GAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AAEA,MAAA,IAAA,CAAA,KAAA,CAAA,eAAA,EAhBA,CAiBA;;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,cAAA,CAAA,cAAA,CAAA;AACA,MAAA,IAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,cAAA;AAEA,QAAA,MAAA,CAAA,WAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,cAAA,MAAA,CAAA,KAAA,EAAA;AACA;AACA,gBAAA,YAAA,GAAA,QAAA,CAAA,cAAA,CAAA,aAAA,CAAA;AACA,YAAA,YAAA,CAAA,WAAA,GAAA,MAAA,CAAA,KAAA,CAAA,OAAA;AACA,WAJA,MAIA;AACA;AACA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,YAAA,QAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EAAA,EAAA,MAAA,CAAA,CALA,CAMA;AACA;AACA,SAbA;AAcA,OAjBA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AAEA;;AACA,MAAA,IAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,UAAA,KAAA,EAAA;AACA,YAAA,YAAA,GAAA,QAAA,CAAA,cAAA,CAAA,aAAA,CAAA;;AACA,YAAA,KAAA,CAAA,KAAA,EAAA;AACA,UAAA,YAAA,CAAA,WAAA,GAAA,KAAA,CAAA,KAAA,CAAA,OAAA;AACA,SAFA,MAEA;AACA,UAAA,YAAA,CAAA,WAAA,GAAA,EAAA;AACA;AACA,OAPA;AASA,KA5IA;AA6IA,IAAA,OA7IA,qBA6IA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,WAAA,aAAA,CAAA,mBAAA,EAAA,YAAA;AACA,aAAA,eAAA;AACA,OAFA,CAEA,IAFA,CAEA,IAFA,CAAA;AAGA;AAlJA,GAhBA;AAoKA,EAAA,OApKA,qBAoKA;AACA,QAAA,QAAA,GAAA,KAAA,aAAA;AACA,SAAA,aAAA,CAAA,mBAAA,EAAA,YAAA;AACA,WAAA,eAAA,CAAA,QAAA,EAAA,KAAA,MAAA;AACA,KAFA,CAEA,IAFA,CAEA,IAFA,CAAA;AAGA;AAzKA,CAAA","sourcesContent":["<template>\n    <div>\n        You want to buy {{number}} coins.\n        <form id=\"payment-form\">\n        <div>\n            <label for=\"card-element\">\n            Credit or debit card\n            </label>\n            <div id=\"card-element\">\n            <!-- A Stripe Element will be inserted here. -->\n            </div>\n    \n            <!-- Used to display form errors. -->\n            <div id=\"card-errors\" role=\"alert\"></div>\n        </div>\n    \n        <button class=\"buttonpay\" v-on:click=\"bankToken(userId, number)\">Payer</button>\n        </form>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'StripePaiement',\n  props: [\n    \"numberCoin\",\n    \"userId\",\n    \"userName\"\n  ],\n  data() {\n   return{\n     number: this.numberCoin,\n     stripeAPIToken: 'pk_test_51HsUUJEj14OhipKUavWcW48ZdEV1yWmFHCW0ycDia9R8OzDfW3v48ghzDWj55ZojtRdxDvMI7nj1faV9NkqNeSpW000veD7xCF',\n     stripe: '',\n     elements: '',\n     card: ''\n   }\n  },\n  methods:{\n    //include Stripe\n    includeStripe( URL, callback ){\n        console.log('toto')\n        let documentTag = document, tag = 'script',\n            object = documentTag.createElement(tag),\n            scriptTag = documentTag.getElementsByTagName(tag)[0];\n        object.src = '//' + URL;\n        if (callback) { object.addEventListener('load', function (e) { callback(null, e); }, false); }\n        scriptTag.parentNode.insertBefore(object, scriptTag);\n    },\n    /*\n    Configures Stripe by setting up the elements and \n    creating the card element.\n    */\n   postToLaravel(token, number){\n           /* var axios = require('axios');\n            var data = JSON.stringify({\n              \"stripeToken\": token,\n              \"tokenNumber\": number\n            });*/\n\n            //////\n            console.log(token)\n            console.log(number)\n            var axios = require('axios');\n            var data = JSON.stringify({\"stripeToken\":token,\"tokenNumber\":number});\n\n            var config = {\n              method: 'post',\n              url: 'https://haute-loire.org/api/stripe',\n              headers: { \n                'Content-Type': 'application/json'\n              },\n              data : data\n            };\n\n\n            //////\n\n            /*var config = {\n              method: 'post',\n              url: 'https://haute-loire.org/api/stripe',\n              data : data\n            };*/\n\n            axios(config)\n            .then(function (response) {\n              console.log(JSON.stringify(response.data));\n            })\n            .catch(function (error) {\n              console.log(error);\n            });\n        \n    },\n    bankToken(idDonor, amount){\n        var axios = require('axios');\n        var data = JSON.stringify({\"id_donor\": 1,\"id_receiver\": idDonor,\"amount\": amount});\n\n        console.log(idDonor, amount)\n\n        var config = {\n          method: 'post',\n          url: 'https://haute-loire.org/api/transaction',\n          headers: { \n            'Content-Type': 'application/json'\n          },\n          data : data\n        };\n\n        axios(config)\n        .then(function (response) {\n          console.log(JSON.stringify(response.data));\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n    configureStripe(fonction, number){\n      console.log('toto')\n      var stripe = window.Stripe( this.stripeAPIToken );\n\n        var elements = stripe.elements()\n        \n        /*\n        const card = stripe.charges.create({\n          amount: 2000,\n          currency: 'eur',\n          source: 'tok_visa',\n          description: 'My First Test Charge (created for API docs)',\n        });*/\n\n        var card = elements.create('card');\n\n        card.mount('#card-element');\n        // Handle form submission.\n        var form = document.getElementById('payment-form');\n        form.addEventListener('submit', function(event) {\n          event.preventDefault();\n        \n          stripe.createToken(card).then(function(result) {\n            if (result.error) {\n              // Inform the user if there was an error.\n              var errorElement = document.getElementById('card-errors');\n              errorElement.textContent = result.error.message;\n            } else {\n              // Send the token to your server.\n              //stripeTokenHandler(result.token);\n              console.log(result.token.id)\n              console.log(number)\n              fonction(result.token.id, number)     \n              //console.log(number)         \n            }\n          })\n        })\n\n        /*\n        function stripeTokenHandler(token) {\n          // Insert the token ID into the form so it gets submitted to the server\n          var form = document.getElementById('payment-form');\n          var hiddenInput = document.createElement('input');\n          hiddenInput.setAttribute('type', 'hidden');\n          hiddenInput.setAttribute('name', 'stripeToken');\n          hiddenInput.setAttribute('value', token.id);\n          form.appendChild(hiddenInput);\n\n          \n          // Submit the form\n          form.submit();\n        }*/\n        // Handle real-time validation errors from the card Element.\n        card.addEventListener('change', function(event) {\n          var displayError = document.getElementById('card-errors');\n          if (event.error) {\n            displayError.textContent = event.error.message;\n          } else {\n            displayError.textContent = '';\n          }\n        });\n\n    },\n    mounted(){\n      console.log('toto')\n      this.includeStripe('js.stripe.com/v3/', function(){\n            this.configureStripe();\n        }.bind(this) );\n      }\n    },\n    created(){\n      const fonction = this.postToLaravel\n      this.includeStripe('js.stripe.com/v3/', function(){\n            this.configureStripe(fonction, this.number);\n        }.bind(this) );  \n    } \n}\n</script> \n<style scoped>\n.buttonpay {\n\n      color: white;\n      background-color: #ffa008;;\n      border: none;\n      padding: 15px;\n      border-radius: 3em;\n      font-weight: bold;\n      margin-top: 2em;\n  }\n</style>"],"sourceRoot":"src/components/shop"}]}