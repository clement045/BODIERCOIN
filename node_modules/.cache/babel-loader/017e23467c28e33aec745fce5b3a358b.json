{"remainingRequest":"/home/clement/APIetienne/BODIERCOIN/node_modules/babel-loader/lib/index.js!/home/clement/APIetienne/BODIERCOIN/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/clement/APIetienne/BODIERCOIN/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/clement/APIetienne/BODIERCOIN/src/components/RetailerRegistration.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/clement/APIetienne/BODIERCOIN/src/components/RetailerRegistration.vue","mtime":1607801764748},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9jbGVtZW50L0FQSWV0aWVubmUvQk9ESUVSQ09JTi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2NsZW1lbnQvQVBJZXRpZW5uZS9CT0RJRVJDT0lOL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JldGFpbGVyUmVnaXN0cmF0aW9uJywKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICB1c2VyOiAnYXV0aC91c2VyJywKICAgIHJldENhdGVnb3JpZXM6ICdnZXRSZXRhaWxlckNhdGVnb3JpZXMnCiAgfSkpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcmV2aWV3SW1hZ2U6IG51bGwsCiAgICAgIGltYWdlOiBudWxsLAogICAgICBlbmNvZGVkSW1hZ2U6ICcgICcsCiAgICAgIG5hbWVSZXRhaWxlcjogJycsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgY2F0OiAnJywKICAgICAgc2VsZWN0ZWQ6ICcnLAogICAgICBiYXNlNjQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdXBsb2FkSW1hZ2U6IGZ1bmN0aW9uIHVwbG9hZEltYWdlKGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpbWFnZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW1hZ2UpOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMucHJldmlld0ltYWdlID0gZS50YXJnZXQucmVzdWx0OyAvL2NvbnNvbGUubG9nKGltYWdlKTsKICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJldmlld0ltYWdlKTsKICAgICAgICAvL3RoaXMuaW1hZ2UgPSBpbWFnZTsKCiAgICAgICAgX3RoaXMuYmFzZTY0ID0gX3RoaXMucHJldmlld0ltYWdlLnNwbGl0KCIsIilbMV07IC8vY29uc29sZS5sb2codGhpcy5iYXNlNjQpOwogICAgICB9OwogICAgfSwKICAgIHJlZ2lzdGVyQXNSZXRhaWxlcjogZnVuY3Rpb24gcmVnaXN0ZXJBc1JldGFpbGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJ2h0dHBzOi8vaGF1dGUtbG9pcmUub3JnL2FwaS91c2VyLycgKyBfdGhpczIudXNlci5pZCwgewogICAgICAgICAgICAgICAgICBwaWN0dXJlczogX3RoaXMyLmJhc2U2NCwKICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lOiBfdGhpczIubmFtZVJldGFpbGVyLAogICAgICAgICAgICAgICAgICBzdG9yZVR5cGU6IF90aGlzMi5zZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgc3RvcmVEZXNjcmlwdGlvbjogX3RoaXMyLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICByZXRhaWxlcjogMQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0SW1nOiBmdW5jdGlvbiBnZXRJbWcoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvdXNlci81Jyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsgLy9yZXR1cm4gcmVzLmRhdGEucGljdHVyZXM7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0SW1nKCk7CiAgfQp9Ow=="},{"version":3,"sources":["RetailerRegistration.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,sBADA;AAEA,EAAA,QAAA,oBACA,UAAA,CAAA;AACA,IAAA,IAAA,EAAA,WADA;AAEA,IAAA,aAAA,EAAA;AAFA,GAAA,CADA,CAFA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,IAFA;AAGA,MAAA,YAAA,EAAA,IAHA;AAIA,MAAA,YAAA,EAAA,EAJA;AAKA,MAAA,WAAA,EAAA,EALA;AAMA,MAAA,GAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA,EAPA;AAQA,MAAA,MAAA,EAAA;AARA,KAAA;AAWA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,CADA,EACA;AAAA;;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AACA,MAAA,MAAA,CAAA,aAAA,CAAA,KAAA;;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA,CADA,CAEA;AACA;AACA;;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,YAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA,CALA,CAMA;AACA,OAPA;AAUA,KAfA;AAgBA,IAAA,kBAhBA,gCAgBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAYA,KAAA,CAAA,GAAA,CAAA,sCAAA,MAAA,CAAA,IAAA,CAAA,EAAA,EAAA;AACA,kBAAA,QAAA,EAAA,MAAA,CAAA,MADA;AAEA,kBAAA,SAAA,EAAA,MAAA,CAAA,YAFA;AAGA,kBAAA,SAAA,EAAA,MAAA,CAAA,QAHA;AAIA,kBAAA,gBAAA,EAAA,MAAA,CAAA,WAJA;AAKA,kBAAA,QAAA,EAAA;AALA,iBAAA,CAZA;;AAAA;AAYA,gBAAA,GAZA;AAoBA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA,KAtCA;AAuCA,IAAA,MAvCA,oBAuCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,CAAA,kCAAA,CADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAFA,CAGA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AA3CA,GArBA;AAkEA,EAAA,OAlEA,qBAkEA;AACA,SAAA,MAAA;AACA;AApEA,CAAA","sourcesContent":["<template>\n    <div>\n        <h4>Affiche formulaire inscription commer√ßant </h4>\n        <form  @submit.prevent=\"registerAsRetailer\">\n                <br><br><br><br>\n                <div>\n                    <label for=\"nameRetailer\">\n                        Nom : \n                    </label>\n                    <input type=\"text\" name=\"nameRetailer\" placeholder=\"Nom de votre magasin\" id=\"nameRetailer\" v-model=\"nameRetailer\">\n                </div>\n                <div>\n                    <label for=\"description\">\n                        Description : \n                    </label>\n                    <input type=\"text\" name=\"description\" placeholder=\"description\" id=\"description\" v-model=\"description\">\n                </div>\n                <div>\n                    <label for=\"Image\">\n                        Image : \n                    </label>\n                    <img :src=\"previewImage\" class=\"uploading-image\" />\n                    <input type=\"file\" accept=\"image/jpeg\" @change=uploadImage>\n                </div>\n                <div>\n                    <select v-model=\"selected\">\n                        <option v-for=\"categorie in retCategories\" :key=\"categorie.id\"> {{ categorie.category }} </option>\n                        <p>{{ selected }}</p>\n                    </select>\n                </div>\n                <br>\n                <div>\n                    <button class=\"btn btn-dark\" type=\"registerRetailer\">Create a retailer account</button>\n                    \n                </div>\n        </form>\n    </div>\n</template>\n\n\n<script>\nimport axios from 'axios';\nimport { mapGetters } from 'vuex';\n\nexport default {\n    name: 'RetailerRegistration',\n    computed: {\n        ...mapGetters({\n            user: 'auth/user',\n            retCategories: 'getRetailerCategories'\n        })\n    },\n    data(){\n            return {\n               previewImage: null,\n               image: null,\n               encodedImage: '  ',\n               nameRetailer: '',\n               description: '',\n               cat: '', \n               selected: '',\n               base64: ''\n\n            }\n    },\n    methods:{\n        uploadImage(e){\n            const image = e.target.files[0];\n            const reader = new FileReader();\n            reader.readAsDataURL(image);\n            reader.onload = e =>{\n                this.previewImage = e.target.result;\n                //console.log(image);\n                //console.log(this.previewImage);\n                //this.image = image;\n                this.base64 = this.previewImage.split(\",\")[1];\n                //console.log(this.base64);\n            };\n            \n\n        },\n        async registerAsRetailer() {\n            //console.log(this.nameRetailer);\n            //console.log(this.description);\n            //console.log(this.image);\n            //console.log(this.encodedImage);\n            //console.log(this.base64);\n\n            /*\n            var formData = new FormData();\n            formData.set('image', this.image);\n            */\n\n            const res = await axios.put('https://haute-loire.org/api/user/'+this.user.id, {\n                pictures: this.base64,\n                storeName: this.nameRetailer,\n                storeType: this.selected,\n                storeDescription: this.description,\n                retailer: 1\n            });\n\n            console.log(res);\n            \n        },\n        async getImg() {\n            const res = await axios.get('http://localhost:8000/api/user/5');\n            console.log(res);\n            //return res.data.pictures;\n        }\n    },\n    mounted() {\n        this.getImg()\n    }\n}\n</script>"],"sourceRoot":"src/components"}]}