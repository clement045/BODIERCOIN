{"remainingRequest":"/home/clement/APIetienne/BODIERCOIN/node_modules/babel-loader/lib/index.js!/home/clement/APIetienne/BODIERCOIN/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/clement/APIetienne/BODIERCOIN/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/clement/APIetienne/BODIERCOIN/src/views/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/clement/APIetienne/BODIERCOIN/src/views/Dashboard.vue","mtime":1607808929392},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clement/APIetienne/BODIERCOIN/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvY2xlbWVudC9BUElldGllbm5lL0JPRElFUkNPSU4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9jbGVtZW50L0FQSWV0aWVubmUvQk9ESUVSQ09JTi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBSZXRhaWxlclJlZ2lzdHJhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUmV0YWlsZXJSZWdpc3RyYXRpb24udnVlJzsKaW1wb3J0IFVwZGF0ZUFjY291bnQgZnJvbSAnQC9jb21wb25lbnRzL1VwZGF0ZUFjY291bnQudnVlJzsKaW1wb3J0IFBhaWVtZW50IGZyb20gJ0AvY29tcG9uZW50cy9zaG9wL1BhaWVtZW50LnZ1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEYXNoYm9hcmQnLAogIGNvbXBvbmVudHM6IHsKICAgIFJldGFpbGVyUmVnaXN0cmF0aW9uOiBSZXRhaWxlclJlZ2lzdHJhdGlvbiwKICAgIFVwZGF0ZUFjY291bnQ6IFVwZGF0ZUFjY291bnQsCiAgICBQYWllbWVudDogUGFpZW1lbnQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50VXNlcjogbnVsbCwKICAgICAgZGlzcGxheVVwZGF0ZUFjY291bnQ6IHRydWUsCiAgICAgIGRpc3BsYXlSZXRhaWxlclJlZ2lzdHJhdGlvbjogZmFsc2UsCiAgICAgIGRpc3BsYXlQYXlyb2xsOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZUFjY291bnRNZW51OiBmdW5jdGlvbiB1cGRhdGVBY2NvdW50TWVudSgpIHsKICAgICAgdGhpcy5kaXNwbGF5VXBkYXRlQWNjb3VudCA9IHRydWU7CiAgICAgIHRoaXMuZGlzcGxheVJldGFpbGVyUmVnaXN0cmF0aW9uID0gZmFsc2U7CiAgICAgIHRoaXMuZGlzcGxheVBheXJvbGwgPSBmYWxzZTsKICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCJhY3RpdmUiKTsKICAgICAgLyoKICAgICAgdmFyIHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIudXNlci1kYXNoYm9hcmQtbWVudSBsaSIpOwogICAgICB0LmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCJhY3RpdmUiKTsKICAgICAgfSk7Ki8KICAgIH0sCiAgICByZXRhaWxlclJlZ2lzdGVyTWVudTogZnVuY3Rpb24gcmV0YWlsZXJSZWdpc3Rlck1lbnUoKSB7CiAgICAgIHRoaXMuZGlzcGxheVVwZGF0ZUFjY291bnQgPSBmYWxzZTsKICAgICAgdGhpcy5kaXNwbGF5UmV0YWlsZXJSZWdpc3RyYXRpb24gPSB0cnVlOwogICAgICB0aGlzLmRpc3BsYXlQYXlyb2xsID0gZmFsc2U7CiAgICB9LAogICAgcGFpbWVudE1lbnU6IGZ1bmN0aW9uIHBhaW1lbnRNZW51KCkgewogICAgICB0aGlzLmRpc3BsYXlVcGRhdGVBY2NvdW50ID0gZmFsc2U7CiAgICAgIHRoaXMuZGlzcGxheVJldGFpbGVyUmVnaXN0cmF0aW9uID0gZmFsc2U7CiAgICAgIHRoaXMuZGlzcGxheVBheXJvbGwgPSB0cnVlOwogICAgfSwKICAgIGdldFVzZXJEZXRhaWxzOiBmdW5jdGlvbiBnZXRVc2VyRGV0YWlscygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJ2h0dHBzOi8vaGF1dGUtbG9pcmUub3JnL2FwaS91c2VyLycgKyBfdGhpcy51c2VyLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRVc2VyID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGVBY2NvdW50OiBmdW5jdGlvbiBkZWxldGVBY2NvdW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXBvbnNlLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlcG9uc2UgPSBjb25maXJtKCJFdGVzLXZvdXMgY2VydGFpbiBkZSB2b3Vsb2lyIHN1cHByaW1lciB2b3RyZSBjb21wdGUgPyIpOwoKICAgICAgICAgICAgICAgIGlmICghcmVwb25zZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5kZWxldGUoJ2h0dHBzOi8vaGF1dGUtbG9pcmUub3JnL2FwaS91c2VyLycgKyBfdGhpczIudXNlci5pZCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIHVzZXI6ICdhdXRoL3VzZXInCiAgfSkpLAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuZ2V0VXNlckRldGFpbHMoKTsKICB9Cn07"},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,OAAA,oBAAA,MAAA,uCAAA;AACA,OAAA,aAAA,MAAA,gCAAA;AACA,OAAA,QAAA,MAAA,gCAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAGA,EAAA,UAAA,EAAA;AAAA,IAAA,oBAAA,EAAA,oBAAA;AAAA,IAAA,aAAA,EAAA,aAAA;AAAA,IAAA,QAAA,EAAA;AAAA,GAHA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,IADA;AAEA,MAAA,oBAAA,EAAA,IAFA;AAGA,MAAA,2BAAA,EAAA,KAHA;AAIA,MAAA,cAAA,EAAA;AAJA,KAAA;AAMA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,WAAA,oBAAA,GAAA,IAAA;AACA,WAAA,2BAAA,GAAA,KAAA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,WAAA,SAAA,CAAA,GAAA,CAAA,QAAA;AACA;AACA;AACA;AACA;AACA;AAEA,KAZA;AAaA,IAAA,oBAbA,kCAaA;AACA,WAAA,oBAAA,GAAA,KAAA;AACA,WAAA,2BAAA,GAAA,IAAA;AACA,WAAA,cAAA,GAAA,KAAA;AAEA,KAlBA;AAmBA,IAAA,WAnBA,yBAmBA;AACA,WAAA,oBAAA,GAAA,KAAA;AACA,WAAA,2BAAA,GAAA,KAAA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KAvBA;AAwBA,IAAA,cAxBA,4BAwBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,CAAA,sCAAA,KAAA,CAAA,IAAA,CAAA,EAAA,CADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,KAAA,CAAA,WAAA,GAAA,GAAA,CAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KA3BA;AA4BA,IAAA,aA5BA,2BA4BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OADA,GACA,OAAA,CAAA,uDAAA,CADA;;AAAA,qBAEA,OAFA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGA,KAAA,CAAA,MAAA,CAAA,sCAAA,MAAA,CAAA,IAAA,CAAA,EAAA,CAHA;;AAAA;AAGA,gBAAA,GAHA;AAIA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,gBAAA,QAAA,CAAA,MAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAnCA,GAbA;AAkDA,EAAA,QAAA,oBACA,UAAA,CAAA;AACA,IAAA,IAAA,EAAA;AADA,GAAA,CADA,CAlDA;AAuDA,EAAA,WAvDA,yBAuDA;AACA,SAAA,cAAA;AACA;AAzDA,CAAA","sourcesContent":["<template>\n    <div>\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-lg-4 text-center \" id=\"user-dashboard-menu\">\n            <br><br><br>\n            <h2>menu utilisateur</h2>\n            <div class=\"user-dashboard-profile\">\n              <!-- User Image -->\n              <div class=\"profile-thumb\">\n                <img src=\"../../public/pp.jpg\" alt=\"\" class=\"rounded-circle\">\n              </div>\n              <!-- User Name -->\n              <br>\n              <h4 class=\"text-center\">{{ this.currentUser.name }}</h4>\n              <p>Membre depuis le : </p>\n              <p>{{ this.currentUser.created_at.slice(0,10) }}</p>\n              <h5>Votre solde Bordier Coin:</h5>\n              <p>{{ this.currentUser.payroll }} Bordier Coins</p>\n            </div>\n\n            <div class=\"user-dashboard-menu text-left\">\n              <ul>\n                 <li class=\"\" v-on:click=\"updateAccountMenu\">\n                  <a href=\"#\"><i class=\"\" ></i>Modifier mon compte utilisateur</a>\n                </li>\n                <li v-on:click=\"retailerRegisterMenu\" >\n                  <a href=\"#\"><i class=\"\" ></i>Editer un compte commer√ßant</a>\n                </li>\n                <li v-on:click=\"paimentMenu\">\n                  <a href=\"#\"><i class=\"\"></i>Solde Ethicoins</a>\n                </li>\n                <li @click=\"deleteAccount\">\n                  <a href=\"#\"><i class=\"\" ></i>Supprimer mon compte</a>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div class=\"col-lg-8 text-center\" id=\"dashboard\">\n            <br><br>\n            <RetailerRegistration v-if=\"displayRetailerRegistration\"/>\n            <UpdateAccount v-if=\"displayUpdateAccount\"/>\n            <Paiement v-if=\"displayPayroll\"/>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport RetailerRegistration from '@/components/RetailerRegistration.vue';\nimport UpdateAccount from '@/components/UpdateAccount.vue';\nimport Paiement from '@/components/shop/Paiement.vue';\nimport axios from 'axios';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Dashboard',\n\n  components: { RetailerRegistration, UpdateAccount, Paiement },\n\n  data() {\n    return {\n      currentUser: null,\n      displayUpdateAccount: true,\n      displayRetailerRegistration: false,\n      displayPayroll: false,\n    }\n  },\n  methods: {\n    updateAccountMenu() {\n      this.displayUpdateAccount = true;\n      this.displayRetailerRegistration = false;\n      this.displayPayroll = false;\n      this.classList.add(\"active\");\n      /*\n      var t = document.querySelectorAll(\".user-dashboard-menu li\");\n      t.forEach(element => {\n        element.classList.add(\"active\");\n      });*/\n\n    },\n    retailerRegisterMenu() {\n      this.displayUpdateAccount = false;\n      this.displayRetailerRegistration = true;\n      this.displayPayroll = false;\n\n    },\n    paimentMenu() {\n      this.displayUpdateAccount = false;\n      this.displayRetailerRegistration = false;\n      this.displayPayroll = true;\n    },\n    async getUserDetails() {\n      var res = await axios.get('https://haute-loire.org/api/user/'+this.user.id);\n      this.currentUser = res.data;\n    },\n    async deleteAccount() {\n      var reponse = confirm(\"Etes-vous certain de vouloir supprimer votre compte ?\");\n      if (reponse) {\n        var res = await axios.delete('https://haute-loire.org/api/user/'+this.user.id);\n        console.log(res);\n        location.reload();\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    })\n  },\n  beforeMount() {\n    this.getUserDetails();\n  }\n}\n\n</script>\n\n<style scoped>\n\n.user-dashboard-menu li {\n  margin-bottom: 5px;\n  list-style: none;\n}\n\n\n.user-dashboard-menu li a {\n  padding: 10px;\n  font-size: 15px;\n  display: block;\n  font-weight: 600;\n  color: #555;\n  text-decoration: none;\n}\n\n.user-dashboard-menu li a:hover {\n  color: #5672f9;\n}\n\n.user-dashboard-menu li a:hover span {\n  background: #5672f9;\n  color: #fff;\n}\n\n.user-dashboard-menu li a i {\n  margin-right: 5px;\n}\n\n\n</style>"],"sourceRoot":"src/views"}]}